<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="883px" preserveAspectRatio="none" style="width:1115px;height:883px;background:#FFFFFF;" version="1.1" viewBox="0 0 1115 883" width="1115px" zoomAndPan="magnify"><defs><filter height="300%" id="f14p02mvz0dd5a" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="337" x="389.25" y="31.2419">Carboncoin Direct Coin Purchase (Offer)</text><rect fill="#ADD8E6" height="832.4923" rx="10" ry="10" style="stroke:#A80036;stroke-width:1.0;" width="481" x="588" y="44.5158"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="232" x="712.5" y="58.4129">Carbon Market Blockchain Channel</text><rect fill="#FFFFFF" filter="url(#f14p02mvz0dd5a)" height="587.2384" style="stroke:#A80036;stroke-width:1.0;" width="10" x="235" y="182.7018"/><rect fill="#FFFFFF" filter="url(#f14p02mvz0dd5a)" height="488.4143" style="stroke:#A80036;stroke-width:1.0;" width="10" x="376" y="232.1138"/><rect fill="#FFFFFF" filter="url(#f14p02mvz0dd5a)" height="49.412" style="stroke:#A80036;stroke-width:1.0;" width="10" x="503" y="281.5259"/><rect fill="#FFFFFF" filter="url(#f14p02mvz0dd5a)" height="246.0602" style="stroke:#A80036;stroke-width:1.0;" width="10" x="698.5" y="362.6439"/><rect fill="#FFFFFF" filter="url(#f14p02mvz0dd5a)" height="49.412" style="stroke:#A80036;stroke-width:1.0;" width="10" x="940" y="429.762"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="73" x2="73" y1="131.2898" y2="787.9402"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="240" x2="240" y1="131.2898" y2="787.9402"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="381" x2="381" y1="131.2898" y2="787.9402"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="508" x2="508" y1="131.2898" y2="787.9402"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="703" x2="703" y1="131.2898" y2="787.9402"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="945" x2="945" y1="131.2898" y2="787.9402"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="131" x="5" y="127.1878">Hydrogen Producer</text><ellipse cx="73.5" cy="55.2219" fill="#FEFECE" filter="url(#f14p02mvz0dd5a)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M73.5,63.2219 L73.5,90.2219 M60.5,71.2219 L86.5,71.2219 M73.5,90.2219 L60.5,105.2219 M73.5,90.2219 L86.5,105.2219 " fill="none" filter="url(#f14p02mvz0dd5a)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="131" x="5" y="801.9061">Hydrogen Producer</text><ellipse cx="73.5" cy="816.0081" fill="#FEFECE" filter="url(#f14p02mvz0dd5a)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M73.5,824.0081 L73.5,851.0081 M60.5,832.0081 L86.5,832.0081 M73.5,851.0081 L60.5,866.0081 M73.5,851.0081 L86.5,866.0081 " fill="none" filter="url(#f14p02mvz0dd5a)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f14p02mvz0dd5a)" height="33.0679" rx="10" ry="10" style="stroke:#A80036;stroke-width:1.5;" width="172" x="152" y="93.2219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="158" x="159" y="115.1878">Carbon Market Website</text><rect fill="#FEFECE" filter="url(#f14p02mvz0dd5a)" height="33.0679" rx="10" ry="10" style="stroke:#A80036;stroke-width:1.5;" width="172" x="152" y="786.9402"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="158" x="159" y="808.9061">Carbon Market Website</text><rect fill="#FEFECE" filter="url(#f14p02mvz0dd5a)" height="33.0679" rx="10" ry="10" style="stroke:#A80036;stroke-width:1.5;" width="82" x="338" y="93.2219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="68" x="345" y="115.1878">HTTPS API</text><rect fill="#FEFECE" filter="url(#f14p02mvz0dd5a)" height="33.0679" rx="10" ry="10" style="stroke:#A80036;stroke-width:1.5;" width="82" x="338" y="786.9402"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="68" x="345" y="808.9061">HTTPS API</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="142" x="434" y="127.1878">Cryptographic Wallet</text><path d="M490,76.2219 C490,66.2219 508,66.2219 508,66.2219 C508,66.2219 526,66.2219 526,76.2219 L526,102.2219 C526,112.2219 508,112.2219 508,112.2219 C508,112.2219 490,112.2219 490,102.2219 L490,76.2219 " fill="#FEFECE" filter="url(#f14p02mvz0dd5a)" style="stroke:#000000;stroke-width:1.5;"/><path d="M490,76.2219 C490,86.2219 508,86.2219 508,86.2219 C508,86.2219 526,86.2219 526,76.2219 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="142" x="434" y="801.9061">Cryptographic Wallet</text><path d="M490,816.0081 C490,806.0081 508,806.0081 508,806.0081 C508,806.0081 526,806.0081 526,816.0081 L526,842.0081 C526,852.0081 508,852.0081 508,852.0081 C508,852.0081 490,852.0081 490,842.0081 L490,816.0081 " fill="#FEFECE" filter="url(#f14p02mvz0dd5a)" style="stroke:#000000;stroke-width:1.5;"/><path d="M490,816.0081 C490,826.0081 508,826.0081 508,826.0081 C508,826.0081 526,826.0081 526,816.0081 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><rect fill="#FEFECE" filter="url(#f14p02mvz0dd5a)" height="33.0679" rx="10" ry="10" style="stroke:#A80036;stroke-width:1.5;" width="219" x="592" y="93.2219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="205" x="599" y="115.1878">Carbon Market Smart Contract</text><rect fill="#FEFECE" filter="url(#f14p02mvz0dd5a)" height="33.0679" rx="10" ry="10" style="stroke:#A80036;stroke-width:1.5;" width="219" x="592" y="786.9402"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="205" x="599" y="808.9061">Carbon Market Smart Contract</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="234" x="825" y="127.1878">Carbon Market On Chain Database</text><path d="M927,76.2219 C927,66.2219 945,66.2219 945,66.2219 C945,66.2219 963,66.2219 963,76.2219 L963,102.2219 C963,112.2219 945,112.2219 945,112.2219 C945,112.2219 927,112.2219 927,102.2219 L927,76.2219 " fill="#FEFECE" filter="url(#f14p02mvz0dd5a)" style="stroke:#000000;stroke-width:1.5;"/><path d="M927,76.2219 C927,86.2219 945,86.2219 945,86.2219 C945,86.2219 963,86.2219 963,76.2219 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="234" x="825" y="801.9061">Carbon Market On Chain Database</text><path d="M927,816.0081 C927,806.0081 945,806.0081 945,806.0081 C945,806.0081 963,806.0081 963,816.0081 L963,842.0081 C963,852.0081 945,852.0081 945,852.0081 C945,852.0081 927,852.0081 927,842.0081 L927,816.0081 " fill="#FEFECE" filter="url(#f14p02mvz0dd5a)" style="stroke:#000000;stroke-width:1.5;"/><path d="M927,816.0081 C927,826.0081 945,826.0081 945,826.0081 C945,826.0081 963,826.0081 963,816.0081 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><rect fill="#FFFFFF" filter="url(#f14p02mvz0dd5a)" height="587.2384" style="stroke:#A80036;stroke-width:1.0;" width="10" x="235" y="182.7018"/><rect fill="#FFFFFF" filter="url(#f14p02mvz0dd5a)" height="488.4143" style="stroke:#A80036;stroke-width:1.0;" width="10" x="376" y="232.1138"/><rect fill="#FFFFFF" filter="url(#f14p02mvz0dd5a)" height="49.412" style="stroke:#A80036;stroke-width:1.0;" width="10" x="503" y="281.5259"/><rect fill="#FFFFFF" filter="url(#f14p02mvz0dd5a)" height="246.0602" style="stroke:#A80036;stroke-width:1.0;" width="10" x="698.5" y="362.6439"/><rect fill="#FFFFFF" filter="url(#f14p02mvz0dd5a)" height="49.412" style="stroke:#A80036;stroke-width:1.0;" width="10" x="940" y="429.762"/><polygon fill="#A80036" points="223,178.7018,233,182.7018,223,186.7018,227,182.7018" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:2.0;" x1="73.5" x2="229" y1="182.7018" y2="182.7018"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="80.5" y="159.1868">Direct Token</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55" x="80.5" y="176.8928">Purchase</text><polygon fill="#A80036" points="364,228.1138,374,232.1138,364,236.1138,368,232.1138" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:2.0;" x1="245" x2="370" y1="232.1138" y2="232.1138"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="252" y="208.5988">Create Direct</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95" x="252" y="226.3048">Token Purchase</text><polygon fill="#A80036" points="491,277.5259,501,281.5259,491,285.5259,495,281.5259" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:2.0;" x1="386" x2="497" y1="281.5259" y2="281.5259"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41" x="393" y="258.0109">Gather</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="393" y="275.7169">Credentials</text><polygon fill="#A80036" points="397,326.9379,387,330.9379,397,334.9379,393,330.9379" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:2.0;" x1="391" x2="507" y1="330.9379" y2="330.9379"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41" x="403" y="307.4229">Retrun</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="403" y="325.1289">Credentials</text><polygon fill="#A80036" points="686.5,358.6439,696.5,362.6439,686.5,366.6439,690.5,362.6439" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:2.0;" x1="386" x2="692.5" y1="362.6439" y2="362.6439"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="393" y="356.8349">Get Offer</text><polygon fill="#A80036" points="928,425.762,938,429.762,928,433.762,932,429.762" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:2.0;" x1="708.5" x2="934" y1="429.762" y2="429.762"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="715.5" y="388.5409">Perform Index</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="715.5" y="406.247">Query (warmed</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="715.5" y="423.953">block cut)</text><polygon fill="#A80036" points="719.5,475.174,709.5,479.174,719.5,483.174,715.5,479.174" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:2.0;" x1="713.5" x2="944" y1="479.174" y2="479.174"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79" x="725.5" y="455.659">Open Market</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="725.5" y="473.365">Offer Results</text><line style="stroke:#A80036;stroke-width:2.0;" x1="708.5" x2="750.5" y1="546.2921" y2="546.2921"/><line style="stroke:#A80036;stroke-width:2.0;" x1="750.5" x2="750.5" y1="546.2921" y2="559.2921"/><line style="stroke:#A80036;stroke-width:2.0;" x1="709.5" x2="750.5" y1="559.2921" y2="559.2921"/><polygon fill="#A80036" points="719.5,555.2921,709.5,559.2921,719.5,563.2921,715.5,559.2921" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87" x="715.5" y="505.071">Calculate Offer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="715.5" y="522.777">Based on Max</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79" x="715.5" y="540.4831">Open Market</text><path d="M817,521.38 L817,528.38 A10,10 0 0 0 827,538.38 L1086,538.38 A10,10 0 0 0 1096,528.38 L1096,521.38 L1086,511.38 L827,511.38 A10,10 0 0 0 817,521.38 " fill="#FBFB77" filter="url(#f14p02mvz0dd5a)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1086,511.38 L1086,516.38 A5,5 0 0 0 1091,521.38 L1096,521.38 L1086,511.38 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="258" x="823" y="530.277">Max Open Market Offer with Margin Added</text><polygon fill="#A80036" points="397,604.7041,387,608.7041,397,612.7041,393,608.7041" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:2.0;" x1="391" x2="702.5" y1="608.7041" y2="608.7041"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="403" y="585.1891">Return Chip for</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="30" x="403" y="602.8951">Offer</text><line style="stroke:#A80036;stroke-width:2.0;" x1="386" x2="428" y1="675.8221" y2="675.8221"/><line style="stroke:#A80036;stroke-width:2.0;" x1="428" x2="428" y1="675.8221" y2="688.8221"/><line style="stroke:#A80036;stroke-width:2.0;" x1="387" x2="428" y1="688.8221" y2="688.8221"/><polygon fill="#A80036" points="397,684.8221,387,688.8221,397,692.8221,393,688.8221" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87" x="393" y="634.6011">Close Gateway</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="393" y="652.3071">with User</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60" x="393" y="670.0131">Certificate</text><polygon fill="#A80036" points="256,716.5282,246,720.5282,256,724.5282,252,720.5282" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:2.0;" x1="250" x2="380" y1="720.5282" y2="720.5282"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74" x="262" y="714.7192">Return Offer</text><polygon fill="#A80036" points="84.5,765.9402,74.5,769.9402,84.5,773.9402,80.5,769.9402" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:2.0;" x1="78.5" x2="239" y1="769.9402" y2="769.9402"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="90.5" y="746.4252">Observe Direct</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="90.5" y="764.1312">Purchase Offer</text><!--MD5=[8775ec5fa6c016b56967afd305a7ec44]
@startuml directOffer
skinparam sequenceArrowThickness 2
skinparam roundcorner 20
skinparam maxmessagesize 100
skinparam sequenceParticipant underline
title Carboncoin Direct Coin Purchase (Offer)

actor "Hydrogen Producer" as Producer
participant "Carbon Market Website" as Website
participant "HTTPS API" as API
database "Cryptographic Wallet" as Wallet
box "Carbon Market Blockchain Channel" #LightBlue
participant "Carbon Market Smart Contract" as CMSC 
database "Carbon Market On Chain Database" as CMJD

Producer -> Website: Direct Token Purchase
activate Website

Website -> API: Create Direct Token Purchase
activate API

API -> Wallet: Gather Credentials
activate Wallet

Wallet -> API: Retrun Credentials
deactivate Wallet

API -> CMSC: Get Offer
activate CMSC

CMSC -> CMJD: Perform Index Query (warmed block cut)
activate CMJD

CMJD -> CMSC: Open Market Offer Results
deactivate CMJD

CMSC -> CMSC: Calculate Offer Based on Max Open Market
note right
Max Open Market Offer with Margin Added
end note

CMSC -> API: Return Chip for Offer
deactivate CMSC

API -> API: Close Gateway with User Certificate
API -> Website: Return Offer
deactivate API
Website -> Producer: Observe Direct Purchase Offer
deactivate Website

@enduml

PlantUML version 1.2021.7(Sun May 23 22:40:07 AEST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>