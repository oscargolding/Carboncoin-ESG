<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1200px" preserveAspectRatio="none" style="width:1531px;height:1200px;background:#FFFFFF;" version="1.1" viewBox="0 0 1531 1200" width="1531px" zoomAndPan="magnify"><defs><filter height="300%" id="f1uktrz6zslsg8" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="224" x="653.5" y="31.2419">Carboncoin Offer Retrieval</text><rect fill="#ADD8E6" height="1149.7704" rx="10" ry="10" style="stroke:#A80036;stroke-width:1.0;" width="481" x="580" y="44.5158"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="232" x="704.5" y="58.4129">Carbon Market Blockchain Channel</text><rect fill="#FFFFFF" filter="url(#f1uktrz6zslsg8)" height="904.5165" style="stroke:#A80036;stroke-width:1.0;" width="10" x="235" y="182.7018"/><rect fill="#FFFFFF" filter="url(#f1uktrz6zslsg8)" height="787.9865" style="stroke:#A80036;stroke-width:1.0;" width="10" x="372" y="232.1138"/><rect fill="#FFFFFF" filter="url(#f1uktrz6zslsg8)" height="49.412" style="stroke:#A80036;stroke-width:1.0;" width="10" x="495" y="299.2319"/><rect fill="#FFFFFF" filter="url(#f1uktrz6zslsg8)" height="457.1022" style="stroke:#A80036;stroke-width:1.0;" width="10" x="690.5" y="415.762"/><rect fill="#FFFFFF" filter="url(#f1uktrz6zslsg8)" height="102.5301" style="stroke:#A80036;stroke-width:1.0;" width="10" x="932" y="544.9981"/><rect fill="#FFFFFF" filter="url(#f1uktrz6zslsg8)" height="49.412" style="stroke:#A80036;stroke-width:1.0;" width="10" x="932" y="767.0401"/><rect fill="#FFFFFF" filter="url(#f1uktrz6zslsg8)" height="393.6902" rx="10" ry="10" style="stroke:#000000;stroke-width:2.0;" width="493" x="574" y="430.762"/><rect fill="#FFFFFF" height="168.924" style="stroke:none;stroke-width:1.0;" width="493" x="574" y="655.5282"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="73" x2="73" y1="131.2898" y2="1105.2183"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="240" x2="240" y1="131.2898" y2="1105.2183"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="377" x2="377" y1="131.2898" y2="1105.2183"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="500" x2="500" y1="131.2898" y2="1105.2183"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="695" x2="695" y1="131.2898" y2="1105.2183"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="937" x2="937" y1="131.2898" y2="1105.2183"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="131" x="5" y="127.1878">Hydrogen Producer</text><ellipse cx="73.5" cy="55.2219" fill="#FEFECE" filter="url(#f1uktrz6zslsg8)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M73.5,63.2219 L73.5,90.2219 M60.5,71.2219 L86.5,71.2219 M73.5,90.2219 L60.5,105.2219 M73.5,90.2219 L86.5,105.2219 " fill="none" filter="url(#f1uktrz6zslsg8)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="131" x="5" y="1119.1843">Hydrogen Producer</text><ellipse cx="73.5" cy="1133.2863" fill="#FEFECE" filter="url(#f1uktrz6zslsg8)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M73.5,1141.2863 L73.5,1168.2863 M60.5,1149.2863 L86.5,1149.2863 M73.5,1168.2863 L60.5,1183.2863 M73.5,1168.2863 L86.5,1183.2863 " fill="none" filter="url(#f1uktrz6zslsg8)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f1uktrz6zslsg8)" height="33.0679" rx="10" ry="10" style="stroke:#A80036;stroke-width:1.5;" width="172" x="152" y="93.2219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="158" x="159" y="115.1878">Carbon Market Website</text><rect fill="#FEFECE" filter="url(#f1uktrz6zslsg8)" height="33.0679" rx="10" ry="10" style="stroke:#A80036;stroke-width:1.5;" width="172" x="152" y="1104.2183"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="158" x="159" y="1126.1843">Carbon Market Website</text><rect fill="#FEFECE" filter="url(#f1uktrz6zslsg8)" height="33.0679" rx="10" ry="10" style="stroke:#A80036;stroke-width:1.5;" width="74" x="338" y="93.2219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="60" x="345" y="115.1878">HTTP API</text><rect fill="#FEFECE" filter="url(#f1uktrz6zslsg8)" height="33.0679" rx="10" ry="10" style="stroke:#A80036;stroke-width:1.5;" width="74" x="338" y="1104.2183"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="60" x="345" y="1126.1843">HTTP API</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="142" x="426" y="127.1878">Cryptographic Wallet</text><path d="M482,76.2219 C482,66.2219 500,66.2219 500,66.2219 C500,66.2219 518,66.2219 518,76.2219 L518,102.2219 C518,112.2219 500,112.2219 500,112.2219 C500,112.2219 482,112.2219 482,102.2219 L482,76.2219 " fill="#FEFECE" filter="url(#f1uktrz6zslsg8)" style="stroke:#000000;stroke-width:1.5;"/><path d="M482,76.2219 C482,86.2219 500,86.2219 500,86.2219 C500,86.2219 518,86.2219 518,76.2219 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="142" x="426" y="1119.1843">Cryptographic Wallet</text><path d="M482,1133.2863 C482,1123.2863 500,1123.2863 500,1123.2863 C500,1123.2863 518,1123.2863 518,1133.2863 L518,1159.2863 C518,1169.2863 500,1169.2863 500,1169.2863 C500,1169.2863 482,1169.2863 482,1159.2863 L482,1133.2863 " fill="#FEFECE" filter="url(#f1uktrz6zslsg8)" style="stroke:#000000;stroke-width:1.5;"/><path d="M482,1133.2863 C482,1143.2863 500,1143.2863 500,1143.2863 C500,1143.2863 518,1143.2863 518,1133.2863 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><rect fill="#FEFECE" filter="url(#f1uktrz6zslsg8)" height="33.0679" rx="10" ry="10" style="stroke:#A80036;stroke-width:1.5;" width="219" x="584" y="93.2219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="205" x="591" y="115.1878">Carbon Market Smart Contract</text><rect fill="#FEFECE" filter="url(#f1uktrz6zslsg8)" height="33.0679" rx="10" ry="10" style="stroke:#A80036;stroke-width:1.5;" width="219" x="584" y="1104.2183"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="205" x="591" y="1126.1843">Carbon Market Smart Contract</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="234" x="817" y="127.1878">Carbon Market On Chain Database</text><path d="M919,76.2219 C919,66.2219 937,66.2219 937,66.2219 C937,66.2219 955,66.2219 955,76.2219 L955,102.2219 C955,112.2219 937,112.2219 937,112.2219 C937,112.2219 919,112.2219 919,102.2219 L919,76.2219 " fill="#FEFECE" filter="url(#f1uktrz6zslsg8)" style="stroke:#000000;stroke-width:1.5;"/><path d="M919,76.2219 C919,86.2219 937,86.2219 937,86.2219 C937,86.2219 955,86.2219 955,76.2219 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="234" x="817" y="1119.1843">Carbon Market On Chain Database</text><path d="M919,1133.2863 C919,1123.2863 937,1123.2863 937,1123.2863 C937,1123.2863 955,1123.2863 955,1133.2863 L955,1159.2863 C955,1169.2863 937,1169.2863 937,1169.2863 C937,1169.2863 919,1169.2863 919,1159.2863 L919,1133.2863 " fill="#FEFECE" filter="url(#f1uktrz6zslsg8)" style="stroke:#000000;stroke-width:1.5;"/><path d="M919,1133.2863 C919,1143.2863 937,1143.2863 937,1143.2863 C937,1143.2863 955,1143.2863 955,1133.2863 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><rect fill="#FFFFFF" filter="url(#f1uktrz6zslsg8)" height="904.5165" style="stroke:#A80036;stroke-width:1.0;" width="10" x="235" y="182.7018"/><rect fill="#FFFFFF" filter="url(#f1uktrz6zslsg8)" height="787.9865" style="stroke:#A80036;stroke-width:1.0;" width="10" x="372" y="232.1138"/><rect fill="#FFFFFF" filter="url(#f1uktrz6zslsg8)" height="49.412" style="stroke:#A80036;stroke-width:1.0;" width="10" x="495" y="299.2319"/><rect fill="#FFFFFF" filter="url(#f1uktrz6zslsg8)" height="457.1022" style="stroke:#A80036;stroke-width:1.0;" width="10" x="690.5" y="415.762"/><rect fill="#FFFFFF" filter="url(#f1uktrz6zslsg8)" height="102.5301" style="stroke:#A80036;stroke-width:1.0;" width="10" x="932" y="544.9981"/><rect fill="#FFFFFF" filter="url(#f1uktrz6zslsg8)" height="49.412" style="stroke:#A80036;stroke-width:1.0;" width="10" x="932" y="767.0401"/><polygon fill="#A80036" points="223,178.7018,233,182.7018,223,186.7018,227,182.7018" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:2.0;" x1="73.5" x2="229" y1="182.7018" y2="182.7018"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="80.5" y="159.1868">Retrieve</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="80.5" y="176.8928">Offers</text><polygon fill="#A80036" points="360,228.1138,370,232.1138,360,236.1138,364,232.1138" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:2.0;" x1="245" x2="366" y1="232.1138" y2="232.1138"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="252" y="208.5988">Get Offer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="252" y="226.3048">Request</text><polygon fill="#A80036" points="483,295.2319,493,299.2319,483,303.2319,487,299.2319" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:2.0;" x1="382" x2="489" y1="299.2319" y2="299.2319"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="389" y="258.0109">Get</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="38" x="389" y="275.7169">admin</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="389" y="293.4229">credentials</text><polygon fill="#A80036" points="393,344.6439,383,348.6439,393,352.6439,389,348.6439" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:2.0;" x1="387" x2="499" y1="348.6439" y2="348.6439"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41" x="399" y="325.1289">Return</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="399" y="342.8349">credentials</text><polygon fill="#A80036" points="678.5,411.762,688.5,415.762,678.5,419.762,682.5,415.762" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:2.0;" x1="382" x2="684.5" y1="415.762" y2="415.762"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="389" y="374.5409">Request</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="389" y="392.247">observation</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="389" y="409.953">of offers</text><path d="M584,430.762 L637,430.762 L637,439.762 L627,449.762 L574,449.762 L574,440.762 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="393.6902" rx="10" ry="10" style="stroke:#000000;stroke-width:2.0;" width="493" x="574" y="430.762"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="589" y="445.659">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="191" x="652" y="444.5209">[Carbon Reputation Filter Present]</text><path d="M1072,445.762 L1072,505.762 A10,10 0 0 0 1082,515.762 L1502,515.762 A10,10 0 0 0 1512,505.762 L1512,445.762 L1502,435.762 L1082,435.762 A10,10 0 0 0 1072,445.762 " fill="#FBFB77" filter="url(#f1uktrz6zslsg8)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1502,435.762 L1502,440.762 A5,5 0 0 0 1507,445.762 L1512,445.762 L1502,435.762 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="408" x="1078" y="454.659">Whenever Hyperledger cuts a new block, an offer index is warmed to</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="282" x="1078" y="472.365">reflect the latest information on the blockchain.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="416" x="1078" y="490.071">Such a feature strikes the perfect trade-off between the most accurate</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="380" x="1078" y="507.777">financial information with on chain smart contract performance.</text><polygon fill="#A80036" points="920,540.9981,930,544.9981,920,548.9981,924,544.9981" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:2.0;" x1="700.5" x2="926" y1="544.9981" y2="544.9981"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="707.5" y="468.365">Perform</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34" x="707.5" y="486.071">Index</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="37" x="707.5" y="503.777">Query</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="707.5" y="521.4831">Sorting</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="707.5" y="539.1891">(warmed)</text><polygon fill="#A80036" points="711.5,643.5282,701.5,647.5282,711.5,651.5282,707.5,647.5282" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:2.0;" x1="705.5" x2="936" y1="647.5282" y2="647.5282"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="30" x="717.5" y="570.8951">Offer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43" x="717.5" y="588.6011">Results</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="717.5" y="606.3071">Sorted</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="717.5" y="624.0131">with</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="717.5" y="641.7192">Reputation</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="574" x2="1067" y1="656.5282" y2="656.5282"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="135" x="579" y="668.2871">[Normal Offer Retrieval]</text><polygon fill="#A80036" points="920,763.0401,930,767.0401,920,771.0401,924,767.0401" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:2.0;" x1="700.5" x2="926" y1="767.0401" y2="767.0401"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="707.5" y="690.4071">Perform</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34" x="707.5" y="708.1131">Index</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="707.5" y="725.8191">Query No</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="707.5" y="743.5251">Sorting</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="707.5" y="761.2311">(warmed)</text><polygon fill="#A80036" points="711.5,812.4522,701.5,816.4522,711.5,820.4522,707.5,816.4522" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:2.0;" x1="705.5" x2="936" y1="816.4522" y2="816.4522"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="30" x="717.5" y="792.9371">Offer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43" x="717.5" y="810.6432">Results</text><polygon fill="#A80036" points="393,868.8642,383,872.8642,393,876.8642,389,872.8642" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:2.0;" x1="387" x2="694.5" y1="872.8642" y2="872.8642"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41" x="399" y="849.3492">Return</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34" x="399" y="867.0552">offers</text><line style="stroke:#A80036;stroke-width:2.0;" x1="382" x2="424" y1="957.6883" y2="957.6883"/><line style="stroke:#A80036;stroke-width:2.0;" x1="424" x2="424" y1="957.6883" y2="970.6883"/><line style="stroke:#A80036;stroke-width:2.0;" x1="383" x2="424" y1="970.6883" y2="970.6883"/><polygon fill="#A80036" points="393,966.6883,383,970.6883,393,974.6883,389,970.6883" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="389" y="898.7612">Close</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="389" y="916.4672">Gateway</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="389" y="934.1732">with User</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60" x="389" y="951.8793">Certificate</text><polygon fill="#A80036" points="256,1016.1003,246,1020.1003,256,1024.1003,252,1020.1003" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:2.0;" x1="250" x2="376" y1="1020.1003" y2="1020.1003"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41" x="262" y="996.5853">Return</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34" x="262" y="1014.2913">offers</text><polygon fill="#A80036" points="84.5,1083.2183,74.5,1087.2183,84.5,1091.2183,80.5,1087.2183" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:2.0;" x1="78.5" x2="239" y1="1087.2183" y2="1087.2183"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="90.5" y="1045.9973">Observe</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="90.5" y="1063.7033">available</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34" x="90.5" y="1081.4093">offers</text><!--MD5=[7ee5b912171ac036869c88ed9a2f9cdd]
@startuml GetOffers
skinparam sequenceArrowThickness 2
skinparam roundcorner 20
skinparam maxmessagesize 60
skinparam sequenceParticipant underline
title Carboncoin Offer Retrieval

actor "Hydrogen Producer" as User
participant "Carbon Market Website" as Website
participant "HTTP API" as API
database "Cryptographic Wallet" as Wallet
box "Carbon Market Blockchain Channel" #LightBlue
participant "Carbon Market Smart Contract" as CMSC 
database "Carbon Market On Chain Database" as CMJD

User -> Website: Retrieve Offers
activate Website 

Website -> API: Get Offer Request
activate API 

API -> Wallet: Get admin credentials
activate Wallet

Wallet -> API: Return credentials
deactivate Wallet

API -> CMSC: Request observation of offers
activate CMSC

alt Carbon Reputation Filter Present
    CMSC -> CMJD: Perform Index Query Sorting (warmed)
    activate CMJD
    CMJD -> CMSC: Offer Results Sorted with Reputation
    deactivate CMJD
else Normal Offer Retrieval
    CMSC -> CMJD: Perform Index Query No Sorting (warmed)
    activate CMJD
    CMJD -> CMSC: Offer Results
    deactivate CMJD
end

note right
Whenever Hyperledger cuts a new block, an offer index is warmed to 
reflect the latest information on the blockchain. 
Such a feature strikes the perfect trade-off between the most accurate 
financial information with on chain smart contract performance.
end note

CMSC -> API: Return offers
deactivate CMSC

API -> API: Close Gateway with User Certificate
API -> Website: Return offers
deactivate API
Website -> User: Observe available offers 
deactivate Website

@enduml

PlantUML version 1.2021.7(Sun May 23 22:40:07 AEST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>