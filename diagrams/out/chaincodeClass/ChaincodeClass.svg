<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="890px" preserveAspectRatio="none" style="width:1207px;height:890px;background:#FFFFFF;" version="1.1" viewBox="0 0 1207 890" width="1207px" zoomAndPan="magnify"><defs><filter height="300%" id="f16ct5l9rswda3" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[461026a38b737c4ce5e8254b9a577e21]
class Contract--><rect codeLine="1" fill="#FEFECE" filter="url(#f16ct5l9rswda3)" height="48" id="Contract" style="stroke:#A80036;stroke-width:1.5;" width="78" x="358.48" y="7"/><ellipse cx="373.48" cy="23" fill="#A9DCDF" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M373.5894,18.3438 L372.4331,23.4219 L374.7613,23.4219 L373.5894,18.3438 Z M372.105,16.1094 L375.0894,16.1094 L378.4488,28.5 L375.9956,28.5 L375.23,25.4375 L371.9488,25.4375 L371.1988,28.5 L368.7613,28.5 L372.105,16.1094 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="46" x="387.48" y="27.656">Contract</text><line style="stroke:#A80036;stroke-width:1.5;" x1="359.48" x2="435.48" y1="39" y2="39"/><line style="stroke:#A80036;stroke-width:1.5;" x1="359.48" x2="435.48" y1="47" y2="47"/><!--MD5=[8d403e56a687026f1c880f41264a6af6]
class TransactionContextInterface--><rect codeLine="2" fill="#FEFECE" filter="url(#f16ct5l9rswda3)" height="48" id="TransactionContextInterface" style="stroke:#A80036;stroke-width:1.5;" width="184" x="1009.48" y="449.5"/><ellipse cx="1024.48" cy="465.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1020.4019,461.2656 L1020.4019,459.1094 L1027.7925,459.1094 L1027.7925,461.2656 L1025.3238,461.2656 L1025.3238,469.3438 L1027.7925,469.3438 L1027.7925,471.5 L1020.4019,471.5 L1020.4019,469.3438 L1022.8706,469.3438 L1022.8706,461.2656 L1020.4019,461.2656 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="152" x="1038.48" y="470.156">TransactionContextInterface</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1010.48" x2="1192.48" y1="481.5" y2="481.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="1010.48" x2="1192.48" y1="489.5" y2="489.5"/><!--MD5=[39ee9a12b5c71bf316e2d3008d6022ed]
class MarketSmartContract--><rect codeLine="3" fill="#FEFECE" filter="url(#f16ct5l9rswda3)" height="178.837" id="MarketSmartContract" style="stroke:#A80036;stroke-width:1.5;" width="514" x="140.48" y="115"/><ellipse cx="332.23" cy="131" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M335.1988,136.6406 Q334.6206,136.9375 333.98,137.0781 Q333.3394,137.2344 332.6363,137.2344 Q330.1363,137.2344 328.8081,135.5938 Q327.4956,133.9375 327.4956,130.8125 Q327.4956,127.6875 328.8081,126.0313 Q330.1363,124.375 332.6363,124.375 Q333.3394,124.375 333.98,124.5313 Q334.6363,124.6875 335.1988,124.9844 L335.1988,127.7031 Q334.5738,127.125 333.98,126.8594 Q333.3863,126.5781 332.7613,126.5781 Q331.4175,126.5781 330.73,127.6563 Q330.0425,128.7188 330.0425,130.8125 Q330.0425,132.9063 330.73,133.9844 Q331.4175,135.0469 332.7613,135.0469 Q333.3863,135.0469 333.98,134.7813 Q334.5738,134.5 335.1988,133.9219 L335.1988,136.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="122" x="352.73" y="135.656">MarketSmartContract</text><line style="stroke:#A80036;stroke-width:1.5;" x1="141.48" x2="653.48" y1="147" y2="147"/><ellipse cx="151.48" cy="176.9819" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="278" x="160.48" y="181.7408">AddProducer(CustomMarketContextInterface, string)</text><ellipse cx="151.48" cy="191.9638" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="286" x="160.48" y="196.7227">GetBalance(CustomMarketContextInterface, string): int</text><ellipse cx="151.48" cy="206.9457" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="334" x="160.48" y="211.7046">AddOffer(CustomMarketContextInterface, string, int, int, string)</text><ellipse cx="151.48" cy="221.9276" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="431" x="160.48" y="226.6865">GetOffers(CustomMarketContextInterface, int, string): PaginatedQueryResultOffer</text><ellipse cx="151.48" cy="236.9094" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="488" x="160.48" y="241.6684">GetProduction(CustomMarketContextInterface, int, string): PaginatedQueryResultProduction</text><ellipse cx="151.48" cy="251.8913" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="361" x="160.48" y="256.6502">PurchaseOfferTokens(CustomMarketContextInterface, string, int): int</text><ellipse cx="151.48" cy="266.8732" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="410" x="160.48" y="271.6321">ProducerProduction(CustomMarketContextInterface, string, int, string, string)</text><ellipse cx="151.48" cy="281.8551" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="324" x="160.48" y="286.614">PayForProduction(CustomMarketContextInterface, string): int</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="141.48" x2="296.48" y1="162.4909" y2="162.4909"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="202" x="296.48" y="166.2589">Public Interface Callable on Blockchain</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="498.48" x2="653.48" y1="162.4909" y2="162.4909"/><!--MD5=[81f0de6c05e10159a8adbe53566c8b9c]
class CustomMarketContextInterface--><rect codeLine="14" fill="#FEFECE" filter="url(#f16ct5l9rswda3)" height="223.7827" id="CustomMarketContextInterface" style="stroke:#A80036;stroke-width:1.5;" width="309" x="401.98" y="653"/><ellipse cx="468.23" cy="669" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M464.1519,664.7656 L464.1519,662.6094 L471.5425,662.6094 L471.5425,664.7656 L469.0738,664.7656 L469.0738,672.8438 L471.5425,672.8438 L471.5425,675 L464.1519,675 L464.1519,672.8438 L466.6206,672.8438 L466.6206,664.7656 L464.1519,664.7656 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="168" x="488.73" y="673.656">CustomMarketContextInterface</text><line style="stroke:#A80036;stroke-width:1.5;" x1="402.98" x2="709.98" y1="685" y2="685"/><ellipse cx="412.98" cy="714.9819" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="147" x="421.98" y="719.7408">CheckProducer(string): bool</text><ellipse cx="412.98" cy="729.9638" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="165" x="421.98" y="734.7227">GetProducer(string): *Producer</text><ellipse cx="412.98" cy="744.9457" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="96" x="421.98" y="749.7046">GetUserId(): string</text><ellipse cx="412.98" cy="759.9276" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="110" x="421.98" y="764.6865">GetUserType(): string</text><ellipse cx="412.98" cy="774.9094" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="176" x="421.98" y="779.6684">CreateOffer(string, int, int, string)</text><ellipse cx="412.98" cy="789.8913" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="254" x="421.98" y="794.6502">CreateProduction(string, int, string, string, bool)</text><ellipse cx="412.98" cy="804.8732" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="115" x="421.98" y="809.6321">GetSellable(string): int</text><ellipse cx="412.98" cy="819.8551" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="283" x="421.98" y="824.614">IteratorResults(StateQueryIteratorInterface, interface)</text><ellipse cx="412.98" cy="834.837" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="144" x="421.98" y="839.5959">GetResults(string, interface)</text><ellipse cx="412.98" cy="849.8189" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="203" x="421.98" y="854.5778">UpdateHighThrough(string, string, int)</text><ellipse cx="412.98" cy="864.8008" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="146" x="421.98" y="869.5597">GetHighThrough(string): int</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="402.98" x2="420.98" y1="700.4909" y2="700.4909"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="271" x="420.98" y="704.2589">Customisable Blockchain Context for CarbonMarket</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="691.98" x2="709.98" y1="700.4909" y2="700.4909"/><!--MD5=[09e3160644ea82bed9dc2bfdc7bfe5c8]
class Producer--><rect codeLine="28" fill="#FEFECE" filter="url(#f16ct5l9rswda3)" height="238.7645" id="Producer" style="stroke:#A80036;stroke-width:1.5;" width="308" x="85.48" y="354"/><ellipse cx="209.73" cy="370" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M212.6988,375.6406 Q212.1206,375.9375 211.48,376.0781 Q210.8394,376.2344 210.1363,376.2344 Q207.6363,376.2344 206.3081,374.5938 Q204.9956,372.9375 204.9956,369.8125 Q204.9956,366.6875 206.3081,365.0313 Q207.6363,363.375 210.1363,363.375 Q210.8394,363.375 211.48,363.5313 Q212.1363,363.6875 212.6988,363.9844 L212.6988,366.7031 Q212.0738,366.125 211.48,365.8594 Q210.8863,365.5781 210.2613,365.5781 Q208.9175,365.5781 208.23,366.6563 Q207.5425,367.7188 207.5425,369.8125 Q207.5425,371.9063 208.23,372.9844 Q208.9175,374.0469 210.2613,374.0469 Q210.8863,374.0469 211.48,373.7813 Q212.0738,373.5 212.6988,372.9219 L212.6988,375.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="51" x="230.23" y="374.656">Producer</text><line style="stroke:#A80036;stroke-width:1.5;" x1="86.48" x2="392.48" y1="386" y2="386"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="93.48" y="412.9819"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="46" x="105.48" y="420.7408">ID string</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="93.48" y="427.9638"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="54" x="105.48" y="435.7227">Tokens int</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="93.48" y="442.9457"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="57" x="105.48" y="450.7046">Sellable int</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="93.48" y="457.9276"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="56" x="105.48" y="465.6865">Carbon int</text><ellipse cx="96.48" cy="475.9094" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="204" x="105.48" y="480.6684">NewProducer(string, string) *Producer</text><ellipse cx="96.48" cy="490.8913" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="246" x="105.48" y="495.6502">GetTokens(CustomMarketContextInterface): int</text><ellipse cx="96.48" cy="505.8732" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="251" x="105.48" y="510.6321">AddCarbon(int, CustomMarketContextInterface)</text><ellipse cx="96.48" cy="520.8551" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="97" x="105.48" y="525.614">DeductSellable(int)</text><ellipse cx="96.48" cy="535.837" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="114" x="105.48" y="540.5959">IncrementSellable(int)</text><ellipse cx="96.48" cy="550.8189" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="265" x="105.48" y="555.5778">DeductTokens(int, CustomMarketContextInterface)</text><ellipse cx="96.48" cy="565.8008" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="282" x="105.48" y="570.5597">IncrementTokens(int, CustomMarketContextInterface)</text><ellipse cx="96.48" cy="580.7827" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="229" x="105.48" y="585.5416">ChainFlush(CustomMarketContextInterface)</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="86.48" x2="156.48" y1="401.4909" y2="401.4909"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="166" x="156.48" y="405.2589">Represents an energy producer</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="322.48" x2="392.48" y1="401.4909" y2="401.4909"/><!--MD5=[af8ed831b3fe9dbd380fec6c597723ab]
class Offer--><rect codeLine="43" fill="#FEFECE" filter="url(#f16ct5l9rswda3)" height="193.8189" id="Offer" style="stroke:#A80036;stroke-width:1.5;" width="255" x="428.98" y="376.5"/><ellipse cx="537.73" cy="392.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M540.6988,398.1406 Q540.1206,398.4375 539.48,398.5781 Q538.8394,398.7344 538.1363,398.7344 Q535.6363,398.7344 534.3081,397.0938 Q532.9956,395.4375 532.9956,392.3125 Q532.9956,389.1875 534.3081,387.5313 Q535.6363,385.875 538.1363,385.875 Q538.8394,385.875 539.48,386.0313 Q540.1363,386.1875 540.6988,386.4844 L540.6988,389.2031 Q540.0738,388.625 539.48,388.3594 Q538.8863,388.0781 538.2613,388.0781 Q536.9175,388.0781 536.23,389.1563 Q535.5425,390.2188 535.5425,392.3125 Q535.5425,394.4063 536.23,395.4844 Q536.9175,396.5469 538.2613,396.5469 Q538.8863,396.5469 539.48,396.2813 Q540.0738,396 540.6988,395.4219 L540.6988,398.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="29" x="558.23" y="397.156">Offer</text><line style="stroke:#A80036;stroke-width:1.5;" x1="429.98" x2="682.98" y1="408.5" y2="408.5"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="436.98" y="435.4819"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="83" x="448.98" y="443.2408">Producer string</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="436.98" y="450.4638"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="59" x="448.98" y="458.2227">Amount int</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="436.98" y="465.4457"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="54" x="448.98" y="473.2046">Tokens int</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="436.98" y="480.4276"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="58" x="448.98" y="488.1865">Active bool</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="436.98" y="495.4094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="74" x="448.98" y="503.1684">OfferID string</text><ellipse cx="439.98" cy="513.3913" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="99" x="448.98" y="518.1502">RemoveTokens(int)</text><ellipse cx="439.98" cy="528.3732" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="87" x="448.98" y="533.1321">MakeOfferStale()</text><ellipse cx="439.98" cy="543.3551" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="70" x="448.98" y="548.114">IsStale(): bool</text><ellipse cx="439.98" cy="558.337" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="229" x="448.98" y="563.0959">ChainFlush(CustomMarketContextInterface)</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="429.98" x2="464.98" y1="423.9909" y2="423.9909"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="183" x="464.98" y="427.7589">Represents an Offer for Token Sale</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="647.98" x2="682.98" y1="423.9909" y2="423.9909"/><!--MD5=[4070ca5927d9b725dd0d376aec46acd6]
class Production--><rect codeLine="55" fill="#FEFECE" filter="url(#f16ct5l9rswda3)" height="152.8732" id="Production" style="stroke:#A80036;stroke-width:1.5;" width="255" x="718.98" y="397"/><ellipse cx="812.23" cy="413" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M815.1987,418.6406 Q814.6206,418.9375 813.98,419.0781 Q813.3394,419.2344 812.6362,419.2344 Q810.1362,419.2344 808.8081,417.5938 Q807.4956,415.9375 807.4956,412.8125 Q807.4956,409.6875 808.8081,408.0313 Q810.1362,406.375 812.6362,406.375 Q813.3394,406.375 813.98,406.5313 Q814.6362,406.6875 815.1987,406.9844 L815.1987,409.7031 Q814.5737,409.125 813.98,408.8594 Q813.3862,408.5781 812.7612,408.5781 Q811.4175,408.5781 810.73,409.6563 Q810.0425,410.7188 810.0425,412.8125 Q810.0425,414.9063 810.73,415.9844 Q811.4175,417.0469 812.7612,417.0469 Q813.3862,417.0469 813.98,416.7813 Q814.5737,416.5 815.1987,415.9219 L815.1987,418.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="60" x="832.73" y="417.656">Production</text><line style="stroke:#A80036;stroke-width:1.5;" x1="719.98" x2="972.98" y1="429" y2="429"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="738.98" x2="738.98" y1="440.4909" y2="440.4909"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="203" x="741.98" y="444.2589">Class Representing Carbon Production</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="947.98" x2="947.98" y1="440.4909" y2="440.4909"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="726.98" y="451.9819"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="105" x="738.98" y="459.7408">ProductionID string</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="726.98" y="466.9638"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="68" x="738.98" y="474.7227">Produced int</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="726.98" y="481.9457"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="58" x="738.98" y="489.7046">Date string</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="726.98" y="496.9276"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="58" x="738.98" y="504.6865">Firm string</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="726.98" y="511.9094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="50" x="738.98" y="519.6684">Paid bool</text><line style="stroke:#A80036;stroke-width:1.5;" x1="719.98" x2="972.98" y1="526.8913" y2="526.8913"/><ellipse cx="729.98" cy="537.8913" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="229" x="738.98" y="542.6502">ChainFlush(CustomMarketContextInterface)</text><!--MD5=[eed6830c736082e8a88dd0740369da33]
reverse link Contract to MarketSmartContract--><path codeLine="64" d="M397.48,75.57 C397.48,87.66 397.48,101.24 397.48,114.92 " fill="none" id="Contract-backto-MarketSmartContract" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="390.48,75.13,397.48,55.13,404.48,75.13,390.48,75.13" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[1b1656c9ea7437723b9d2e95db1a6f9d]
reverse link TransactionContextInterface to CustomMarketContextInterface--><path codeLine="65" d="M1072.57,513.83 C1052.24,539.23 1023.1,571.44 991.48,593 C906.17,651.18 798.19,693.77 711.16,721.9 " fill="none" id="TransactionContextInterface-backto-CustomMarketContextInterface" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="1067.1,509.46,1084.88,497.93,1078.17,518.03,1067.1,509.46" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[e357a0cd8164c2d68010a278534fbaf5]
reverse link MarketSmartContract to CustomMarketContextInterface--><path codeLine="66" d="M135.8,286.38 C108.9,304.59 85.05,326.83 67.48,354 C9.81,443.2 6,506.38 67.48,593 C142.69,698.98 288.8,739.8 401.8,755.26 " fill="none" id="MarketSmartContract-backto-CustomMarketContextInterface" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="140.14,283.49,130.4262,285.1156,135.9688,286.247,134.8374,291.7896,140.14,283.49" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="125.3963" y="282.4926">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="387.1382" y="751.2959">1</text><!--MD5=[728159aa18addf2f663f9f993b3e70b2]
reverse link MarketSmartContract to Producer--><path codeLine="67" d="M342.42,298.54 C331.87,316.37 320.7,335.25 309.75,353.75 " fill="none" id="MarketSmartContract-backto-Producer" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="345.09,294.04,337.0658,299.7507,342.5449,298.3438,343.9519,303.8229,345.09,294.04" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="333.6363" y="315.7842">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34" x="279.3291" y="342.0618">many</text><!--MD5=[b9d8e66af3f0a575dafd96db580b096b]
reverse link MarketSmartContract to Offer--><path codeLine="68" d="M452.8,298.39 C467.82,323.62 484.12,350.99 499.25,376.39 " fill="none" id="MarketSmartContract-backto-Offer" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="450.2,294.04,451.3622,303.82,452.7557,298.3375,458.2382,299.731,450.2,294.04" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="447.1222" y="315.7842">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34" x="459.1028" y="364.5779">many</text><!--MD5=[dc1568fde4ad620dd1eab98f9aeb66a8]
reverse link MarketSmartContract to Production--><path codeLine="69" d="M600.37,296.48 C634.87,314.23 669.77,333.68 701.48,354 C721.33,366.71 741.56,381.73 760.37,396.73 " fill="none" id="MarketSmartContract-backto-Production" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="595.73,294.09,601.9226,301.7484,600.1819,296.3661,605.5643,294.6254,595.73,294.09" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="604.2491" y="315.8382">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34" x="716.2201" y="385.2742">many</text><!--MD5=[64c1082f3e09c854b1d2dbc462c600c5]
link Producer to CustomMarketContextInterface--><path codeLine="70" d="M369.33,593.09 C390.96,612.84 413.33,633.26 434.74,652.82 " fill="none" id="Producer-CustomMarketContextInterface" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[150d722e7337fe37bbc2ee23afaa1698]
link Offer to CustomMarketContextInterface--><path codeLine="71" d="M556.48,570.9 C556.48,597.13 556.48,625.76 556.48,652.75 " fill="none" id="Offer-CustomMarketContextInterface" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[9bf111eb5f0d26bc08ccbc6c92b44b0d]
link Production to CustomMarketContextInterface--><path codeLine="72" d="M770.67,550.18 C739.28,581.51 702.25,618.48 667.89,652.79 " fill="none" id="Production-CustomMarketContextInterface" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[384a84bc4d228706237d5e96316eb1e3]
@startuml ChaincodeClass
abstract class Contract
interface TransactionContextInterface
class MarketSmartContract {
    .. Public Interface Callable on Blockchain ..
    + AddProducer(CustomMarketContextInterface, string)
    + GetBalance(CustomMarketContextInterface, string): int
    + AddOffer(CustomMarketContextInterface, string, int, int, string)
    + GetOffers(CustomMarketContextInterface, int, string): PaginatedQueryResultOffer
    + GetProduction(CustomMarketContextInterface, int, string): PaginatedQueryResultProduction
    + PurchaseOfferTokens(CustomMarketContextInterface, string, int): int
    + ProducerProduction(CustomMarketContextInterface, string, int, string, string)
    + PayForProduction(CustomMarketContextInterface, string): int
}
interface CustomMarketContextInterface {
    .. Customisable Blockchain Context for CarbonMarket ..
    + CheckProducer(string): bool
    + GetProducer(string): *Producer
    + GetUserId(): string
    + GetUserType(): string
    + CreateOffer(string, int, int, string)
    + CreateProduction(string, int, string, string, bool)
    + GetSellable(string): int
    + IteratorResults(StateQueryIteratorInterface, interface)
    + GetResults(string, interface)
    + UpdateHighThrough(string, string, int)
    + GetHighThrough(string): int
}
class Producer {
    .. Represents an energy producer ..
    - ID string
    - Tokens int 
    - Sellable int
    - Carbon int
    + NewProducer(string, string) *Producer
    + GetTokens(CustomMarketContextInterface): int
    + AddCarbon(int, CustomMarketContextInterface)
    + DeductSellable(int)
    + IncrementSellable(int)
    + DeductTokens(int, CustomMarketContextInterface)
    + IncrementTokens(int, CustomMarketContextInterface)
    + ChainFlush(CustomMarketContextInterface)
}
class Offer {
    .. Represents an Offer for Token Sale ..
    - Producer string
    - Amount int 
    - Tokens int 
    - Active bool
    - OfferID string
    + RemoveTokens(int)
    + MakeOfferStale()
    + IsStale(): bool
    + ChainFlush(CustomMarketContextInterface)
}
class Production {
    .. Class Representing Carbon Production .. 
    - ProductionID string 
    - Produced int 
    - Date string 
    - Firm string 
    - Paid bool
    + ChainFlush(CustomMarketContextInterface)
}
Contract <|- - MarketSmartContract
TransactionContextInterface <|- - CustomMarketContextInterface
MarketSmartContract "1" <- - "1" CustomMarketContextInterface
MarketSmartContract "1" <- - "many" Producer
MarketSmartContract "1" <- - "many" Offer
MarketSmartContract "1" <- - "many" Production
Producer - - CustomMarketContextInterface
Offer - - CustomMarketContextInterface
Production - - CustomMarketContextInterface
@enduml

PlantUML version 1.2021.7(Sun May 23 22:40:07 AEST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>